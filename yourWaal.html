<!DOCTYPE html>
<html>
<head>
    <title>The Waal</title>
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="yourWaal.js"></script>
</head>

<body>
    <!-- Toolbar -->
	<div class="toolbar">
		<div class="left-links">
			<a href="index.html">Home</a>
			<a href="profile.html">Profile</a>
			<a href="friends.html">Friends</a>
		</div>
		<div class="right-links">
      <div class="username">
      </div>
			<a href="#">Logout</a>
		</div>
	</div>

	<!-- Sidebar -->
	<div class="sidebar">
		<ul>
			<li><a href="create.html">Create Event</a></li>
			<li><a href="yourWaal.html">Your Waal</a></li>
			<li><a href="friendWaal.html">Friend Waal</a></li>
			<li><a href="familyWaal.html">Family Waal</a></li>
		</ul>
	</div>

    <div class="gallery-container">
        <div class="gallery-title">
            <h1>Your Waal</h1>
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
        <div class="photo-box">
        </div>
    </div>

    <script>
        // retrieve events from local storage
        const usernameID = localStorage.getItem("userName");
        const username = document.querySelector(".username");
        console.log(usernameID);
        
        const events = JSON.parse(localStorage.getItem("eventsPics")) || [];

        // loop through events and display the first picture in each event
        const photoBoxes = document.querySelectorAll(".photo-box");
        for (let i = 0; i < Math.min(events.length, 8); i++) {
          console.log(events[i]);
            const event = events[i];
            const photoBox = photoBoxes[i];
            const imageSrc = event.image_url || "yourWaalPics\IMG_0017.JPG"; // replace with default image path
            const photoTitle = event.name || "Untitled Event"; // replace with default title
            const startDate = event.start_date || "Unknown Start Date"; // replace with default start date
            const endDate = event.end_date || "Unknown End Date"; // replace with default end date

            const imageElement = document.createElement("img");
            imageElement.setAttribute("src", imageSrc);
            imageElement.setAttribute("alt", photoTitle);
            photoBox.appendChild(imageElement);

            const photoTitleElement = document.createElement("div");
            photoTitleElement.classList.add("photo-title");
            const titleLink = document.createElement("a");
            titleLink.setAttribute("href", "event.html");
            titleLink.innerText = photoTitle;
            photoTitleElement.appendChild(titleLink);
            photoBox.appendChild(photoTitleElement);

            const dateElement = document.createElement("div");
            dateElement.innerText = `${startDate} - ${endDate}`;
            photoBox.appendChild(dateElement);
        }
    </script>
</body>
</html>
